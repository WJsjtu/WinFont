git_clone("ThirdParty/freetype" https://github.com/freetype/freetype "VER-2-11-1")
set(FREETYPE_INSTALL_DIR "${PROJECT_SOURCE_DIR}/ThirdParty/install/${CMAKE_BUILD_TYPE}/freetype")
set(FREETYPE_SOURCE_DIR "${PROJECT_SOURCE_DIR}/ThirdParty/freetype")

execute_process(COMMAND ${CMAKE_COMMAND} 
  -G "${CMAKE_GENERATOR}" 
  -A "${CMAKE_GENERATOR_PLATFORM}" 
  -T "${CMAKE_GENERATOR_TOOLSET}" 
  -DCMAKE_CXX_FLAGS_RELEASE="/MD" 
  -DCMAKE_CXX_FLAGS_DEBUG="/MDd" 
  -DCMAKE_C_FLAGS_RELEASE="/MD" 
  -DCMAKE_C_FLAGS_DEBUG="/MDd" 
  -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE} 
  -DZLIB_INCLUDE_DIR=${ZLIB_DIR}/include 
  -DZLIB_LIBRARY=${ZLIB_LIBRARY} 
  -DFT_DISABLE_ZLIB=OFF 
  -DBZIP2_INCLUDE_DIR=${BZIP2_DIR}/include 
  -DBZIP2_LIBRARIES=${BZIP2_LIBRARY} 
  -DFT_DISABLE_BZIP2=OFF
  -DPNG_PNG_INCLUDE_DIR=${LIBPNG_DIR}/include 
  -DPNG_LIBRARY=${LIBPNG_LIBRARY}
  -DFT_DISABLE_PNG=OFF 
  -DFT_DISABLE_HARFBUZZ=ON 
  -DBROTLIDEC_INCLUDE_DIRS=${BROTLI_DIR}/include 
  -DBROTLIDEC_LIBRARIES=${BROTLI_LIBRARY} 
  -DFT_DISABLE_BROTLI=OFF 
  -DBUILD_SHARED_LIBS=OFF
  -DCMAKE_INSTALL_PREFIX=${FREETYPE_INSTALL_DIR} 
  -DCMAKE_POSITION_INDEPENDENT_CODE=ON 
  -B "${PROJECT_SOURCE_DIR}/ThirdParty/build/${CMAKE_BUILD_TYPE}/freetype" 
  WORKING_DIRECTORY "${FREETYPE_SOURCE_DIR}"
)
execute_process(COMMAND ${CMAKE_COMMAND} --build . --config ${CMAKE_BUILD_TYPE} --target install 
  WORKING_DIRECTORY "${PROJECT_SOURCE_DIR}/ThirdParty/build/${CMAKE_BUILD_TYPE}/freetype"
)

set(FREETYPE_DIR "${PROJECT_SOURCE_DIR}/ThirdParty/install/${CMAKE_BUILD_TYPE}/freetype" CACHE PATH "freetype dir" FORCE)
# set(FREETYPE_ROOT "${FREETYPE_DIR}" CACHE PATH "freetype root" FORCE)

if(CMAKE_BUILD_TYPE MATCHES DEBUG OR CMAKE_BUILD_TYPE MATCHES RELWITHDEBINFO) 
  set(FREETYPE_LIBRARY "${FREETYPE_DIR}/lib/freetyped.lib" CACHE FILEPATH "freetype library" FORCE)
endif()
if(CMAKE_BUILD_TYPE MATCHES RELEASE OR CMAKE_BUILD_TYPE MATCHES MINSIZEREL) 
  set(FREETYPE_LIBRARY "${FREETYPE_DIR}/lib/freetype.lib" CACHE FILEPATH "freetype library" FORCE)
endif()